# راهنمای سریع تست الگوریتم سنجاقک

## 🚀 شروع سریع

### نصب وابستگی‌ها
```bash
python3 -m pip install numpy matplotlib scipy
```

### تست ساده
```python
from dragonfly_algorithm import DragonflyAlgorithm
from benchmark_functions import BenchmarkFunctions

# تست تابع کره
da = DragonflyAlgorithm(40, 500)
lb, ub, dim, fobj = BenchmarkFunctions.get_function_details('F1')
best_score, best_pos, convergence_curve = da.optimize(fobj, dim, lb, ub)
print(f"بهترین امتیاز: {best_score}")
```

## 📊 راهنمای تست توابع معیار

### توابع ساده (پیشنهاد: 40 سنجاقک، 500 تکرار)

| تابع | نام | نوع | بهترین امتیاز انتظاری |
|------|-----|-----|---------------------|
| F1 | کره | تک‌قله‌ای | 0 |
| F2 | مجموع مطلق + حاصل‌ضرب | تک‌قله‌ای | 0 |
| F3 | مجموع مربعات | تک‌قله‌ای | 0 |
| F4 | حداکثر مطلق | تک‌قله‌ای | 0 |

### توابع متوسط (پیشنهاد: 50 سنجاقک، 800 تکرار)

| تابع | نام | نوع | بهترین امتیاز انتظاری |
|------|-----|-----|---------------------|
| F5 | روزنبراک | تک‌قله‌ای دشوار | 0 |
| F6 | پله | تک‌قله‌ای | 0 |
| F7 | کوارتیک + نویز | تک‌قله‌ای | ~0 |
| F8 | شوایفل | چندقله‌ای | -12569.5 |

### توابع دشوار (پیشنهاد: 60 سنجاقک، 1000 تکرار)

| تابع | نام | نوع | بهترین امتیاز انتظاری |
|------|-----|-----|---------------------|
| F9 | راستریگین | چندقله‌ای | 0 |
| F10 | اکلای | چندقله‌ای | 0 |
| F11 | گریوانک | چندقله‌ای | 0 |

## 🧪 کدهای تست سریع

### تست تک تابع
```python
def test_function(func_name):
    da = DragonflyAlgorithm(40, 500)
    lb, ub, dim, fobj = BenchmarkFunctions.get_function_details(func_name)
    best_score, best_pos, convergence_curve = da.optimize(fobj, dim, lb, ub)
    return best_score, best_pos

# مثال
score, pos = test_function('F1')
print(f"F1: {score}")
```

### تست چندین تابع
```python
functions = ['F1', 'F5', 'F9', 'F10', 'F11']
results = {}

for func in functions:
    score, pos = test_function(func)
    results[func] = score

for func, score in results.items():
    print(f"{func}: {score:.6f}")
```

### رسم منحنی همگرایی
```python
import matplotlib.pyplot as plt

da = DragonflyAlgorithm(40, 500)
lb, ub, dim, fobj = BenchmarkFunctions.get_function_details('F1')
best_score, best_pos, convergence_curve = da.optimize(fobj, dim, lb, ub)

plt.figure(figsize=(10, 6))
plt.semilogy(convergence_curve, 'r-', linewidth=2)
plt.title('منحنی همگرایی - تابع کره')
plt.xlabel('تکرار')
plt.ylabel('بهترین امتیاز')
plt.grid(True)
plt.show()
```

## ⚙️ تنظیم پارامترها

### برای توابع ساده
```python
da = DragonflyAlgorithm(
    search_agents_no=30,  # تعداد کم
    max_iteration=300     # تکرار کم
)
```

### برای توابع متوسط
```python
da = DragonflyAlgorithm(
    search_agents_no=50,  # تعداد متوسط
    max_iteration=800     # تکرار متوسط
)
```

### برای توابع دشوار
```python
da = DragonflyAlgorithm(
    search_agents_no=60,  # تعداد زیاد
    max_iteration=1000    # تکرار زیاد
)
```

## 📈 تفسیر نتایج

### کیفیت همگرایی
- **< 1e-6**: عالی ✅
- **< 1e-3**: خوب ✅
- **< 1e-1**: متوسط ⚠️
- **> 1e-1**: ضعیف ❌

### زمان اجرا
- **< 10 ثانیه**: سریع
- **10-30 ثانیه**: متوسط
- **> 30 ثانیه**: کند

## 🎯 مثال‌های کاربردی

### مثال 1: تست سریع همه توابع
```python
from test_benchmarks import test_multiple_functions

functions = ['F1', 'F5', 'F9', 'F10', 'F11']
results = test_multiple_functions(functions, 40, 500)
```

### مثال 2: مقایسه توابع
```python
from test_benchmarks import compare_functions

functions = ['F1', 'F9', 'F10']
compare_functions(functions, 40, 500)
```

### مثال 3: مطالعه پارامترها
```python
from test_benchmarks import parameter_study

parameter_study('F1', [20, 40, 60, 80], 300)
```

## 🚀 اجرای نمایش کامل

```bash
# نمایش جامع
python3 demo.py

# تست جامع
python3 test_benchmarks.py
```

## 🔍 عیب‌یابی

### خطای "ModuleNotFoundError"
```bash
python3 -m pip install numpy matplotlib scipy
```

### همگرایی ضعیف
- افزایش تعداد سنجاقک‌ها
- افزایش تعداد تکرارها
- بررسی محدوده‌های مسئله

### زمان اجرای طولانی
- کاهش تعداد سنجاقک‌ها
- کاهش تعداد تکرارها
- استفاده از توابع ساده‌تر

## 📝 نکات مهم

1. **قبل از تست**: اطمینان از نصب وابستگی‌ها
2. **انتخاب پارامترها**: متناسب با پیچیدگی تابع
3. **نظارت**: بررسی منحنی همگرایی
4. **تحلیل**: تفسیر نتایج و کیفیت همگرایی

## 📚 منابع بیشتر

- مستندات کامل: `مستندات_الگوریتم_سنجاقک.md`
- کدهای نمونه: `test_benchmarks.py`
- نمایش جامع: `demo.py` 